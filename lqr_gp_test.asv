clear
close all

dt = 0.01;

hp = struct('y_std',0.001027,'sig_std',0.39978,'W',eye(3));
GP = LocalGP(200, 60, 0.8, hp);

load pendulumData

idx = 1:5:length(X);
traj = X(idx,:);

start_pts = 100;
idx = randi(length(X),start_pts,1);
x = X(idx,:);
y = y(idx,:);

for i = 1:1:length(X)
    GP = GP.add_training_data(x(i,:),y(i,:));
end

[pi, cov] = LQR_GP(traj,GP,10.*eye(2),1,X);

plot(cov(:,3))
hold on
plot(cov(:,2))
plot(cov(:,1))